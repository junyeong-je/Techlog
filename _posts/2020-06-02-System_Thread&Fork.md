---
title: "Thread(쓰레드) & Fork(멀티프로세스)"
layout: post
category: note
tags: [Linux, System]
---
## Thread
대부분의 서버/클라이언트에서 사용하고 있는 서버 프로그래밍 방법입니다.

### 쓰레드의 장점
* 빠른 프로세스 생성
* 적은 메모리 사용
* 자원의 쉬운 공유 
  * 쓰레드들은 코드, 데이터, 힙 영역을 공유
  * 스택 영역만 독립적 할당
  
공유자원 관리방법은 뮤텍스(mutex), 세마포어(semaphore)등이 있습니다.


## Fork(멀티프로세스)
fork를 통해 자식 프로세스를 생성할 경우 데이터, 힙, 스택 영역은 모두 독립적으로 복제 됩니다.

fork 명령을 실행한 시점부터 부모와 자식 프로세스는 동일한 지점부터 동일한 코드를 수행하게 되며,
이때문에 부모와 자식 프로세스에 대한 코드는 분기하여 개발하여야 합니다.

### 유의사항
* 부모가 자식보다 먼저 종료되면 고아프로세스 (Orphan Process)가 생성됩니다.
* 자식이 부모보다 먼저 종료되면 좀비프로세스 (Zombie Process)가 생성됩니다.

이를 방지하기 위해 부모프로세스는 wait(), waitpid() 함수를 사용합니다.
<br>
<br>

참고링크
https://blog.naver.com/tacma/220245341360